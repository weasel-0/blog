---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
    <head>
        <BaseHead title={title} description={description} />
    </head>

    <body class="max-w-2xl m-auto px-4 relative dark:bg-dark-bg">
        <Header />
        <main>
            <article>
                <div
                    class="prose dark:prose-invert prose-stone prose-a:font-medium prose-a:text-gray-800 dark:prose-a:text-gray-200 prose-headings:font-serif prose-headings:font-normal prose-code:text-sm prose-pre:rounded-lg prose-pre:!bg-gray-800 prose-pre:px-4 prose-pre:py-3 prose-pre:leading-loose prose-code:before:content-none prose-code:after:content-none before:[&_blockquote_p:first-of-type]:content-none after:[&_blockquote_p:last-of-type]:content-none prose-img:max-h-[80vh] prose-img:mx-auto prose-video:max-h-[80vh] prose-video:mx-auto mt-6 prose-hr:m-0"
                >
                    <div class="title">
                        <div class="date">
                            <FormattedDate date={pubDate} />
                            {
                                updatedDate && (
                                    <div class="last-updated-on">
                                        Last updated on{" "}
                                        <FormattedDate date={updatedDate} />
                                    </div>
                                )
                            }
                        </div>
                        <h1>{title}</h1>
                        <hr />
                    </div>
                    <slot />
                </div>
            </article>

            <Footer />
        </main>
    </body>
</html>
